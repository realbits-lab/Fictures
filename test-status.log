
> ai-chatbot@3.1.0 test /Users/thomasjeon/GitHub/@ai.thothy/Fictures
> export PLAYWRIGHT=True && pnpm exec playwright test


Running 182 tests using 8 workers

[1A[2K[1/182] [manual-setup] â€º tests/auth.setup.manual.ts:11:6 â€º manual authenticate
[1A[2K[2/182] [e2e] â€º tests/e2e/reasoning.test.ts:40:7 â€º chat activity with reasoning â€º Curie can edit message and resubmit
[1A[2K[3/182] [e2e] â€º tests/e2e/reasoning.test.ts:12:7 â€º chat activity with reasoning â€º Curie can send message and generate response with reasoning
[1A[2K[4/182] [e2e] â€º tests/e2e/artifacts.test.ts:55:7 â€º Artifacts activity â€º Send follow up message after generation
[1A[2K[5/182] [e2e] â€º tests/e2e/session.test.ts:9:9 â€º Guest Session â€º Authenticate as guest user when a new session is loaded
[1A[2K[6/182] [e2e] â€º tests/e2e/reasoning.test.ts:24:7 â€º chat activity with reasoning â€º Curie can toggle reasoning visibility
[1A[2K[7/182] [e2e] â€º tests/e2e/artifacts.test.ts:35:7 â€º Artifacts activity â€º Toggle artifact visibility
[1A[2K[8/182] [e2e] â€º tests/e2e/artifacts.test.ts:16:7 â€º Artifacts activity â€º Create a text artifact
[1A[2K[manual-setup] â€º tests/auth.setup.manual.ts:11:6 â€º manual authenticate
Starting automated authentication setup...

[1A[2KğŸ”„ Filling email and starting OAuth flow...

[1A[2Kâœ… Email filled automatically

[1A[2KğŸ”„ Waiting for Google OAuth window...

[1A[2K[9/182] [e2e] â€º tests/e2e/session.test.ts:33:9 â€º Guest Session â€º Log out is not available for guest users
[1A[2K[10/182] [e2e] â€º tests/e2e/session.test.ts:104:9 â€º Login and Registration â€º Register new account
[1A[2K[11/182] [e2e] â€º tests/e2e/session.test.ts:194:7 â€º Entitlements â€º Guest user cannot send more than 20 messages/day
[1A[2K[12/182] [e2e] â€º tests/e2e/chat.test.ts:12:6 â€º Chat activity â€º Send a user message and receive response
[1A[2K[13/182] [e2e] â€º tests/e2e/chat.test.ts:23:6 â€º Chat activity â€º Redirect to /chat/:id after submitting message
[1A[2KğŸ”„ Handling OAuth in same page...

[1A[2KğŸ“ Handling Google sign-in flow in same page...

[1A[2KğŸ” Found Google sign-in page

[1A[2Kâœ… Email filled

[1A[2KğŸ”„ Clicked Next after email

[1A[2KğŸ” Searching for password page...

[1A[2Kâœ… Found password field with selector: #password

[1A[2KğŸ¯ Using password field found with: #password

[1A[2Kâœ… Password filled using .type()

[1A[2Kâœ… Found Next button with selector: #passwordNext

[1A[2KğŸ¯ Clicking Next button found with: #passwordNext

[1A[2KğŸ”„ Clicked Next after password

[1A[2Kâ„¹ï¸  No consent screen found - proceeding

[1A[2KManual authentication failed: page.waitForURL: Timeout 30000ms exceeded.
=========================== logs ===========================
waiting for navigation until "load"
============================================================
    at [90m/Users/thomasjeon/GitHub/@ai.thothy/Fictures/[39mtests/auth.setup.manual.ts:99:14 {
  name: [32m'TimeoutError'[39m,
  [[32mSymbol(step)[39m]: {
    stepId: [32m'pw:api@32'[39m,
    location: {
      file: [32m'/Users/thomasjeon/GitHub/@ai.thothy/Fictures/tests/auth.setup.manual.ts'[39m,
      line: [33m99[39m,
      column: [33m14[39m
    },
    category: [32m'pw:api'[39m,
    title: [32m'page.waitForURL'[39m,
    apiName: [32m'page.waitForURL'[39m,
    params: { info: [36m[Object][39m },
    boxedStack: [90mundefined[39m,
    steps: [],
    attachmentIndices: [],
    info: TestStepInfoImpl {
      annotations: [],
      _testInfo: [36m[TestInfoImpl][39m,
      _stepId: [32m'pw:api@32'[39m
    },
    complete: [36m[Function: complete][39m,
    endWallTime: [33m1754960622039[39m,
    error: {
      message: [32m'TimeoutError: page.waitForURL: Timeout 30000ms exceeded.\n'[39m +
        [32m'=========================== logs ===========================\n'[39m +
        [32m'waiting for navigation until "load"\n'[39m +
        [32m'============================================================'[39m,
      stack: [32m'TimeoutError: page.waitForURL: Timeout 30000ms exceeded.\n'[39m +
        [32m'=========================== logs ===========================\n'[39m +
        [32m'waiting for navigation until "load"\n'[39m +
        [32m'============================================================\n'[39m +
        [32m'    at /Users/thomasjeon/GitHub/@ai.thothy/Fictures/tests/auth.setup.manual.ts:99:14'[39m,
      cause: [90mundefined[39m
    }
  }
}

[1A[2KCreating mock authentication state for testing...

[1A[2Kâœ… Mock authentication state created

[1A[2K[14/182] [e2e] â€º tests/e2e/chat.test.ts:35:6 â€º Chat activity â€º Send a user message from suggestion
