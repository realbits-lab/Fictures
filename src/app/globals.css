@import "tailwindcss/preflight" layer(base);
@import "tailwindcss/theme" layer(theme);
@import "tailwindcss/utilities" layer(utilities);
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';
@import "@fuma-comment/react/preset.css";

/* Tailwind v4 Theme Variables - Bridge to runtime theme system */
@theme {
	/* Color variables - generate Tailwind utilities (bg-primary, text-foreground, etc.) */
	--color-primary: var(--theme-color-primary);
	--color-primary-foreground: var(--theme-color-primary-foreground);
	--color-secondary: var(--theme-color-secondary);
	--color-secondary-foreground: var(--theme-color-secondary-foreground);
	--color-muted: var(--theme-color-muted);
	--color-muted-foreground: var(--theme-color-muted-foreground);
	--color-accent: var(--theme-color-accent);
	--color-accent-foreground: var(--theme-color-accent-foreground);
	--color-destructive: var(--theme-color-destructive);
	--color-destructive-foreground: var(--theme-color-destructive-foreground);
	--color-border: var(--theme-color-border);
	--color-input: var(--theme-color-input);
	--color-ring: var(--theme-color-ring);
	--color-background: var(--theme-color-background);
	--color-foreground: var(--theme-color-foreground);
	--color-card: var(--theme-color-card);
	--color-card-foreground: var(--theme-color-card-foreground);
	--color-popover: var(--theme-color-popover);
	--color-popover-foreground: var(--theme-color-popover-foreground);

	/* Font variables */
	--font-sans: var(--theme-font-sans);
	--font-mono: var(--theme-font-mono);
	--font-heading: var(--theme-font-heading);
	--font-body: var(--theme-font-body);

	/* Radius variables */
	--radius: var(--theme-radius);
	--radius-sm: 0.25rem;
	--radius-md: 0.375rem;
	--radius-lg: 0.5rem;
	--radius-xl: 0.75rem;
	--radius-2xl: 1rem;
	--radius-3xl: 1.5rem;
	--radius-full: 9999px;
}

/* Default Light Theme - Runtime CSS Variables */
@layer base {
	:root {
		/* Base Font Stacks */
		--theme-font-sans: "Inter Variable", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
		--theme-font-mono: "JetBrains Mono Variable", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
		--theme-font-heading: "Poppins", ui-sans-serif, system-ui, sans-serif;
		--theme-font-body: "Inter Variable", ui-sans-serif, system-ui, sans-serif;

		/* Base Shadows */
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
		--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

		/* Base Animation Durations */
		--animate-duration-fast: 150ms;
		--animate-duration-normal: 300ms;
		--animate-duration-slow: 500ms;

		/* Base Blur Values */
		--blur-sm: blur(4px);
		--blur-md: blur(8px);
		--blur-lg: blur(16px);
		--blur-xl: blur(24px);

		/* Theme Colors */
		--theme-color-primary: 59 130 246;
		--theme-color-primary-foreground: 255 255 255;
		--theme-color-secondary: 244 244 245;
		--theme-color-secondary-foreground: 39 39 42;
		--theme-color-muted: 244 244 245;
		--theme-color-muted-foreground: 113 113 122;
		--theme-color-accent: 244 244 245;
		--theme-color-accent-foreground: 39 39 42;
		--theme-color-destructive: 239 68 68;
		--theme-color-destructive-foreground: 255 255 255;
		--theme-color-border: 228 228 231;
		--theme-color-input: 228 228 231;
		--theme-color-ring: 59 130 246;
		--theme-color-background: 255 255 255;
		--theme-color-foreground: 39 39 42;
		--theme-color-card: 255 255 255;
		--theme-color-card-foreground: 39 39 42;
		--theme-color-popover: 255 255 255;
		--theme-color-popover-foreground: 39 39 42;

		/* Border Radius */
		--theme-radius: 0.5rem;
		--radius-button: 0.5rem;
		--radius-card: 0.5rem;
		--radius-input: 0.375rem;
		--radius-badge: 0.25rem;
		--radius-dialog: 0.75rem;

		/* Border Widths */
		--border-width: 1px;
		--border-width-thick: 2px;
		--border-style: solid;

		/* Applied Tokens */
		--shadow: var(--shadow-md);
		--animate-duration: var(--animate-duration-normal);
		--blur: var(--blur-md);
	}
}

/* Dark Theme */
[data-theme="dark"] {
	--theme-color-primary: 59 130 246;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 39 39 42;
	--theme-color-secondary-foreground: 244 244 245;
	--theme-color-muted: 39 39 42;
	--theme-color-muted-foreground: 161 161 170;
	--theme-color-accent: 39 39 42;
	--theme-color-accent-foreground: 244 244 245;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 39 39 42;
	--theme-color-input: 39 39 42;
	--theme-color-ring: 59 130 246;
	--theme-color-background: 9 9 11;
	--theme-color-foreground: 244 244 245;
	--theme-color-card: 9 9 11;
	--theme-color-card-foreground: 244 244 245;
	--theme-color-popover: 9 9 11;
	--theme-color-popover-foreground: 244 244 245;

	--theme-radius: 0.5rem;
	--radius-button: 0.5rem;
	--radius-card: 0.375rem;
	--radius-input: 0.25rem;
	--radius-badge: 0.25rem;
	--radius-dialog: 0.5rem;
	--border-width: 1px;
	--border-width-thick: 1px;
	--border-style: solid;

	--shadow: var(--shadow-lg);
	--animate-duration: var(--animate-duration-normal);
	--blur: var(--blur-lg);
}

/* Blue Ocean Theme */
[data-theme="ocean"] {
	--theme-color-primary: 59 130 246;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 219 234 254;
	--theme-color-secondary-foreground: 23 37 84;
	--theme-color-muted: 219 234 254;
	--theme-color-muted-foreground: 59 130 246;
	--theme-color-accent: 147 197 253;
	--theme-color-accent-foreground: 23 37 84;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 147 197 253;
	--theme-color-input: 219 234 254;
	--theme-color-ring: 59 130 246;
	--theme-color-background: 248 250 252;
	--theme-color-foreground: 23 37 84;
	--theme-color-card: 255 255 255;
	--theme-color-card-foreground: 23 37 84;
	--theme-color-popover: 255 255 255;
	--theme-color-popover-foreground: 23 37 84;

	--theme-radius: 0.75rem;
	--radius-button: 0.875rem;
	--radius-card: 1rem;
	--radius-input: 0.75rem;
	--radius-badge: 0.5rem;
	--radius-dialog: 1.25rem;
	--border-width: 1px;
	--border-width-thick: 2px;
	--border-style: solid;
	--theme-font-sans: "Nunito Variable", var(--theme-font-sans);
	--theme-font-heading: "Nunito Variable", var(--theme-font-heading);
	--theme-font-body: "Inter Variable", var(--theme-font-body);

	--shadow: var(--shadow-lg);
	--animate-duration: var(--animate-duration-slow);
	--blur: var(--blur-sm);
}

/* Purple Dream Theme */
[data-theme="purple"] {
	--theme-color-primary: 147 51 234;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 233 213 255;
	--theme-color-secondary-foreground: 66 21 101;
	--theme-color-muted: 233 213 255;
	--theme-color-muted-foreground: 147 51 234;
	--theme-color-accent: 196 181 253;
	--theme-color-accent-foreground: 66 21 101;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 196 181 253;
	--theme-color-input: 233 213 255;
	--theme-color-ring: 147 51 234;
	--theme-color-background: 250 245 255;
	--theme-color-foreground: 66 21 101;
	--theme-color-card: 255 255 255;
	--theme-color-card-foreground: 66 21 101;
	--theme-color-popover: 255 255 255;
	--theme-color-popover-foreground: 66 21 101;

	--theme-radius: 1rem;
	--radius-button: 1.25rem;
	--radius-card: 1.5rem;
	--radius-input: 1rem;
	--radius-badge: 9999px;
	--radius-dialog: 1.75rem;
	--border-width: 2px;
	--border-width-thick: 3px;
	--border-style: solid;
	--theme-font-sans: "DM Sans Variable", var(--theme-font-sans);
	--theme-font-heading: "Space Grotesk Variable", var(--theme-font-heading);
	--theme-font-body: "DM Sans Variable", var(--theme-font-body);

	--shadow: var(--shadow-xl);
	--animate-duration: var(--animate-duration-fast);
	--blur: var(--blur-lg);
}

/* Forest Green Theme */
[data-theme="forest"] {
	--theme-color-primary: 34 197 94;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 220 252 231;
	--theme-color-secondary-foreground: 14 90 40;
	--theme-color-muted: 220 252 231;
	--theme-color-muted-foreground: 34 197 94;
	--theme-color-accent: 134 239 172;
	--theme-color-accent-foreground: 14 90 40;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 134 239 172;
	--theme-color-input: 220 252 231;
	--theme-color-ring: 34 197 94;
	--theme-color-background: 247 254 231;
	--theme-color-foreground: 14 90 40;
	--theme-color-card: 255 255 255;
	--theme-color-card-foreground: 14 90 40;
	--theme-color-popover: 255 255 255;
	--theme-color-popover-foreground: 14 90 40;

	--theme-radius: 0.375rem;
	--radius-button: 0.375rem;
	--radius-card: 0.5rem;
	--radius-input: 0.25rem;
	--radius-badge: 0.1875rem;
	--radius-dialog: 0.625rem;
	--border-width: 1px;
	--border-width-thick: 2px;
	--border-style: solid;
	--theme-font-sans: "Inter Variable", var(--theme-font-sans);
	--theme-font-heading: "Fraunces Variable", var(--theme-font-heading);
	--theme-font-body: "Source Sans 3 Variable", var(--theme-font-body);

	--shadow: var(--shadow-sm);
	--animate-duration: var(--animate-duration-normal);
	--blur: var(--blur-sm);
}

/* Warm Sunset Theme */
[data-theme="sunset"] {
	--theme-color-primary: 234 88 12;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 254 215 170;
	--theme-color-secondary-foreground: 120 40 14;
	--theme-color-muted: 254 215 170;
	--theme-color-muted-foreground: 234 88 12;
	--theme-color-accent: 253 186 116;
	--theme-color-accent-foreground: 120 40 14;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 253 186 116;
	--theme-color-input: 254 215 170;
	--theme-color-ring: 234 88 12;
	--theme-color-background: 255 247 237;
	--theme-color-foreground: 120 40 14;
	--theme-color-card: 255 255 255;
	--theme-color-card-foreground: 120 40 14;
	--theme-color-popover: 255 255 255;
	--theme-color-popover-foreground: 120 40 14;

	--theme-radius: 1.5rem;
	--radius-button: 1.75rem;
	--radius-card: 2rem;
	--radius-input: 1.5rem;
	--radius-badge: 9999px;
	--radius-dialog: 2.5rem;
	--border-width: 1px;
	--border-width-thick: 2px;
	--border-style: solid;
	--theme-font-sans: "Manrope Variable", var(--theme-font-sans);
	--theme-font-heading: "Playfair Display Variable", var(--theme-font-heading);
	--theme-font-body: "Manrope Variable", var(--theme-font-body);

	--shadow: var(--shadow-2xl);
	--animate-duration: var(--animate-duration-slow);
	--blur: var(--blur-xl);
}

/* Rose Garden Theme */
[data-theme="rose"] {
	--theme-color-primary: 244 63 94;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 254 205 211;
	--theme-color-secondary-foreground: 120 14 43;
	--theme-color-muted: 254 205 211;
	--theme-color-muted-foreground: 244 63 94;
	--theme-color-accent: 251 113 133;
	--theme-color-accent-foreground: 120 14 43;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 251 113 133;
	--theme-color-input: 254 205 211;
	--theme-color-ring: 244 63 94;
	--theme-color-background: 255 241 242;
	--theme-color-foreground: 120 14 43;
	--theme-color-card: 255 255 255;
	--theme-color-card-foreground: 120 14 43;
	--theme-color-popover: 255 255 255;
	--theme-color-popover-foreground: 120 14 43;

	--theme-radius: 0.25rem;
	--radius-button: 0.25rem;
	--radius-card: 0.375rem;
	--radius-input: 0.1875rem;
	--radius-badge: 0.125rem;
	--radius-dialog: 0.5rem;
	--border-width: 1px;
	--border-width-thick: 1px;
	--border-style: solid;
	--theme-font-sans: "Plus Jakarta Sans Variable", var(--theme-font-sans);
	--theme-font-heading: "Crimson Text Variable", var(--theme-font-heading);
	--theme-font-body: "Plus Jakarta Sans Variable", var(--theme-font-body);

	--shadow: var(--shadow-md);
	--animate-duration: var(--animate-duration-fast);
	--blur: var(--blur-md);
}

/* Midnight Theme */
[data-theme="midnight"] {
	--theme-color-primary: 168 85 247;
	--theme-color-primary-foreground: 255 255 255;
	--theme-color-secondary: 30 41 59;
	--theme-color-secondary-foreground: 203 213 225;
	--theme-color-muted: 30 41 59;
	--theme-color-muted-foreground: 148 163 184;
	--theme-color-accent: 51 65 85;
	--theme-color-accent-foreground: 203 213 225;
	--theme-color-destructive: 239 68 68;
	--theme-color-destructive-foreground: 255 255 255;
	--theme-color-border: 51 65 85;
	--theme-color-input: 30 41 59;
	--theme-color-ring: 168 85 247;
	--theme-color-background: 15 23 42;
	--theme-color-foreground: 241 245 249;
	--theme-color-card: 30 41 59;
	--theme-color-card-foreground: 241 245 249;
	--theme-color-popover: 30 41 59;
	--theme-color-popover-foreground: 241 245 249;

	--theme-radius: 0.125rem;
	--radius-button: 0.125rem;
	--radius-card: 0.1875rem;
	--radius-input: 0.0625rem;
	--radius-badge: 0.0625rem;
	--radius-dialog: 0.25rem;
	--border-width: 1px;
	--border-width-thick: 1px;
	--border-style: solid;
	--theme-font-sans: "Outfit Variable", var(--theme-font-sans);
	--theme-font-heading: "JetBrains Mono Variable", var(--theme-font-heading);
	--theme-font-body: "IBM Plex Sans Variable", var(--theme-font-body);

	--shadow: var(--shadow-2xl);
	--animate-duration: var(--animate-duration-fast);
	--blur: var(--blur-xl);
}

/* Auto theme based on system preference */
@media (prefers-color-scheme: dark) {
	:root:not([data-theme]) {
		--primary: 59 130 246;
		--primary-foreground: 255 255 255;
		--secondary: 39 39 42;
		--secondary-foreground: 244 244 245;
		--muted: 39 39 42;
		--muted-foreground: 161 161 170;
		--accent: 39 39 42;
		--accent-foreground: 244 244 245;
		--destructive: 239 68 68;
		--destructive-foreground: 255 255 255;
		--border: 39 39 42;
		--input: 39 39 42;
		--ring: 59 130 246;
		--background: 9 9 11;
		--foreground: 244 244 245;
		--card: 9 9 11;
		--card-foreground: 244 244 245;
		--popover: 9 9 11;
		--popover-foreground: 244 244 245;
	}
}

html,
body {
	/* Prevent bounce/overscroll effect */
	overscroll-behavior: none;
	overscroll-behavior-y: none;
}

/* Hide Fumadocs mobile TOC header since we use GlobalNavigation */
header.xl\:hidden {
	display: none !important;
}

/* Push Fumadocs sidebar down to account for GNB header (64px) */
aside[class*="fixed"] {
	top: 64px !important;
	/* Use theme background color for sidebar instead of card color */
	background-color: rgb(var(--background)) !important;
}

body {
	color: rgb(var(--foreground));
	background: rgb(var(--background));
	font-family: var(
		--font-body,
		"Inter Variable",
		ui-sans-serif,
		system-ui,
		sans-serif
	);
	transition:
		background-color var(--animate-duration, 300ms) ease,
		color var(--animate-duration, 300ms) ease;
	font-feature-settings: "cv02", "cv03", "cv04", "cv11";
	font-variation-settings: "opsz" auto;
}

@layer utilities {
	.text-balance {
		text-wrap: balance;
	}

	/* Theme-aware border radius utilities */
	.rounded-theme-button {
		border-radius: var(--radius-button);
	}

	.rounded-theme-card {
		border-radius: var(--radius-card);
	}

	.rounded-theme-input {
		border-radius: var(--radius-input);
	}

	.rounded-theme-badge {
		border-radius: var(--radius-badge);
	}

	.rounded-theme-dialog {
		border-radius: var(--radius-dialog);
	}

	/* Theme-aware border utilities */
	.border-theme {
		border-width: var(--border-width);
		border-style: var(--border-style);
	}

	.border-theme-thick {
		border-width: var(--border-width-thick);
		border-style: var(--border-style);
	}

	/* Combined utilities for common components */
	.theme-button {
		border-radius: var(--radius-button);
		border-width: var(--border-width);
		border-style: var(--border-style);
	}

	.theme-card {
		border-radius: var(--radius-card);
		border-width: var(--border-width);
		border-style: var(--border-style);
	}

	.theme-input {
		border-radius: var(--radius-input);
		border-width: var(--border-width);
		border-style: var(--border-style);
	}

	.theme-badge {
		border-radius: var(--radius-badge);
	}

	.theme-dialog {
		border-radius: var(--radius-dialog);
	}
}

/* Enhanced Skeleton Shimmer Animations */
.skeleton-shimmer {
	position: relative;
	overflow: hidden;
}

/* Default Wave Shimmer */
.skeleton-shimmer::before {
	content: "";
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		90deg,
		transparent,
		var(--shimmer-highlight, rgba(255, 255, 255, 0.3)),
		transparent
	);
	animation: shimmer-wave 2s infinite ease-in-out;
}

/* Pulse Shimmer Variant */
.skeleton-shimmer-pulse {
	position: relative;
	overflow: hidden;
	animation: shimmer-pulse 2s infinite ease-in-out;
}

/* Fast Wave Shimmer */
.skeleton-shimmer-fast::before {
	animation: shimmer-wave 1s infinite linear;
}

/* Diagonal Shimmer */
.skeleton-shimmer-diagonal::before {
	background: linear-gradient(
		45deg,
		transparent,
		var(--shimmer-highlight, rgba(255, 255, 255, 0.3)),
		transparent
	);
	animation: shimmer-diagonal 2.5s infinite ease-in-out;
}

/* Theme-Specific Shimmer Colors */
[data-theme="light"] {
	--shimmer-highlight: rgba(255, 255, 255, 0.6);
	--shimmer-base: rgba(203, 213, 225, 0.8);
}

[data-theme="dark"] {
	--shimmer-highlight: rgba(255, 255, 255, 0.15);
	--shimmer-base: rgba(71, 85, 105, 0.8);
}

[data-theme="ocean"] {
	--shimmer-highlight: rgba(147, 197, 253, 0.4);
	--shimmer-base: rgba(59, 130, 246, 0.2);
}

[data-theme="purple"] {
	--shimmer-highlight: rgba(196, 181, 253, 0.5);
	--shimmer-base: rgba(147, 51, 234, 0.25);
}

[data-theme="forest"] {
	--shimmer-highlight: rgba(134, 239, 172, 0.4);
	--shimmer-base: rgba(34, 197, 94, 0.2);
}

[data-theme="sunset"] {
	--shimmer-highlight: rgba(253, 186, 116, 0.5);
	--shimmer-base: rgba(251, 146, 60, 0.25);
}

[data-theme="rose"] {
	--shimmer-highlight: rgba(251, 113, 133, 0.4);
	--shimmer-base: rgba(244, 63, 94, 0.2);
}

[data-theme="midnight"] {
	--shimmer-highlight: rgba(168, 85, 247, 0.3);
	--shimmer-base: rgba(99, 102, 241, 0.2);
}

/* Animations */
@keyframes shimmer-wave {
	0% {
		left: -100%;
	}
	50% {
		left: 100%;
	}
	100% {
		left: 100%;
	}
}

@keyframes shimmer-pulse {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.7;
	}
}

@keyframes shimmer-diagonal {
	0% {
		transform: translateX(-100%) translateY(-100%);
	}
	50% {
		transform: translateX(100%) translateY(100%);
	}
	100% {
		transform: translateX(100%) translateY(100%);
	}
}

/* Toast slide-in animation */
@keyframes slide-in {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

.animate-slide-in {
	animation: slide-in 0.3s ease-out;
}

/* Force Fumadocs TOC to display */
:root {
	--fd-toc-width: 256px !important;
}

@media (max-width: 1279px) {
	:root {
		--fd-toc-width: 0px !important;
	}
}
